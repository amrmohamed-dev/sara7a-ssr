let $ee096d6f5d25ea16$var$hideAlert=()=>{let e=document.querySelector(".alert");e&&e.parentElement.removeChild(e)},$ee096d6f5d25ea16$var$showAlert=(e,t)=>{$ee096d6f5d25ea16$var$hideAlert();let a=`<div class="alert alert--${e}">${t}</div>`;document.querySelector("body").insertAdjacentHTML("afterbegin",a),setTimeout($ee096d6f5d25ea16$var$hideAlert,5e3)};var $ee096d6f5d25ea16$export$2e2bcd8739ae039=$ee096d6f5d25ea16$var$showAlert;let $b687e91076c76d1a$var$baseUrl="localhost"===window.location.hostname?"http://localhost:3000/api/v1/":"/api/v1/",$b687e91076c76d1a$export$6503ec6e8aabbaf=async e=>{try{let{username:t,name:a,email:r,password:o,passwordConfirm:n}=e,d=await fetch(`${$b687e91076c76d1a$var$baseUrl}auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,name:a,email:r,password:o,passwordConfirm:n})}),s=await d.json();if(!d.ok)throw Error(s.message||"Something went wrong");$ee096d6f5d25ea16$export$2e2bcd8739ae039("success",s.message),setTimeout(()=>{location.assign("/messages")},2500)}catch(e){$ee096d6f5d25ea16$export$2e2bcd8739ae039("error",e.message)}},$b687e91076c76d1a$export$596d806903d1f59e=async e=>{try{let{email:t,password:a}=e,r=await fetch(`${$b687e91076c76d1a$var$baseUrl}auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}),o=await r.json();if(!r.ok)throw Error(o.message||"Something went wrong");$ee096d6f5d25ea16$export$2e2bcd8739ae039("success",o.message),setTimeout(()=>{location.assign("/messages")},2500)}catch(e){$ee096d6f5d25ea16$export$2e2bcd8739ae039("error",e.message)}},$b687e91076c76d1a$export$a0973bcfe11b05c9=async()=>{try{let e=await fetch(`${$b687e91076c76d1a$var$baseUrl}auth/logout`);if(!e.ok){let t=await e.json();throw Error(t.message||"Something went wrong")}location.assign("/")}catch(e){$ee096d6f5d25ea16$export$2e2bcd8739ae039("error",e.message)}},$db822e8f11f6ca30$var$registerForm=document.querySelector(".form--register"),$db822e8f11f6ca30$var$loginForm=document.querySelector(".form--login"),$db822e8f11f6ca30$var$logoutBtn=document.querySelector(".nav__el--logout"),$db822e8f11f6ca30$var$copyBtn=document.getElementById("copyBtn");$db822e8f11f6ca30$var$registerForm&&$db822e8f11f6ca30$var$registerForm.addEventListener("submit",async e=>{e.preventDefault();let t=document.querySelector(".btn--register");t.textContent="Please wait....";let a=document.getElementById("username").value,r=document.getElementById("name").value,o=document.getElementById("email").value,n=document.getElementById("password").value,d=document.getElementById("password-confirm").value;await $b687e91076c76d1a$export$6503ec6e8aabbaf({username:a,name:r,email:o,password:n,passwordConfirm:d}),t.textContent="Register"}),$db822e8f11f6ca30$var$loginForm&&$db822e8f11f6ca30$var$loginForm.addEventListener("submit",async e=>{e.preventDefault();let t=document.querySelector(".btn--login");t.textContent="Please wait....";let a=document.getElementById("email").value,r=document.getElementById("password").value;await $b687e91076c76d1a$export$596d806903d1f59e({email:a,password:r}),t.textContent="Login"}),$db822e8f11f6ca30$var$logoutBtn&&$db822e8f11f6ca30$var$logoutBtn.addEventListener("click",$b687e91076c76d1a$export$a0973bcfe11b05c9),$db822e8f11f6ca30$var$copyBtn&&$db822e8f11f6ca30$var$copyBtn.addEventListener("click",()=>{let e=document.getElementById("profileLink");e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value),document.getElementById("copyBtn").textContent="Copied!",setTimeout(()=>document.getElementById("copyBtn").textContent="Copy",1500)});
//# sourceMappingURL=index.js.map
