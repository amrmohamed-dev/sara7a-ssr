{"mappings":"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","sources":["<anon>","public/js/index.js","public/js/auth.js","public/js/alerts.js","public/js/otpUtils.js"],"sourcesContent":["/* eslint-disable */ /*eslint-disable*/ /* eslint-disable */ const $ee096d6f5d25ea16$var$hideAlert = ()=>{\n    const el = document.querySelector('.alert');\n    if (el) el.parentElement.removeChild(el);\n};\n// Type is 'success' or 'error'\nconst $ee096d6f5d25ea16$var$showAlert = (type, msg)=>{\n    $ee096d6f5d25ea16$var$hideAlert();\n    const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n    document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\n    setTimeout($ee096d6f5d25ea16$var$hideAlert, 5000);\n};\nvar $ee096d6f5d25ea16$export$2e2bcd8739ae039 = $ee096d6f5d25ea16$var$showAlert;\n\n\nconst $b687e91076c76d1a$var$baseUrl = '/api/v1/auth/';\nconst $b687e91076c76d1a$export$6503ec6e8aabbaf = async (body)=>{\n    try {\n        const { username: username, name: name, email: email, password: password, passwordConfirm: passwordConfirm } = body;\n        const response = await fetch(`${$b687e91076c76d1a$var$baseUrl}register`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username: username,\n                name: name,\n                email: email,\n                password: password,\n                passwordConfirm: passwordConfirm\n            })\n        });\n        const dataSend = await response.json();\n        if (!response.ok) throw new Error(dataSend.message || 'Something went wrong');\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('success', dataSend.message);\n        setTimeout(()=>{\n            location.assign('/messages');\n        }, 2000);\n    } catch (err) {\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('error', err.message);\n    }\n};\nconst $b687e91076c76d1a$export$596d806903d1f59e = async (body)=>{\n    try {\n        const { email: email, password: password } = body;\n        const response = await fetch(`${$b687e91076c76d1a$var$baseUrl}login`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: email,\n                password: password\n            })\n        });\n        const dataSend = await response.json();\n        if (!response.ok) throw new Error(dataSend.message || 'Something went wrong');\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('success', dataSend.message);\n        setTimeout(()=>{\n            location.assign('/messages');\n        }, 1500);\n    } catch (err) {\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('error', err.message);\n    }\n};\nconst $b687e91076c76d1a$export$a0973bcfe11b05c9 = async ()=>{\n    try {\n        const response = await fetch(`${$b687e91076c76d1a$var$baseUrl}logout`);\n        if (!response.ok) {\n            const errData = await response.json();\n            throw new Error(errData.message || 'Something went wrong');\n        }\n        location.assign('/login');\n    } catch (err) {\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('error', err.message);\n    }\n};\nconst $b687e91076c76d1a$export$c25772193061cdc4 = async (body)=>{\n    try {\n        const { email: email, purpose: purpose } = body;\n        const response = await fetch(`${$b687e91076c76d1a$var$baseUrl}send-otp/${purpose}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: email\n            })\n        });\n        const dataSend = await response.json();\n        if (!response.ok && purpose === 'Password Recovery') throw new Error(dataSend.message);\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('success', dataSend.message);\n        return true;\n    } catch (err) {\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('error', err.message);\n        return false;\n    }\n};\nconst $b687e91076c76d1a$export$c3b3fc23617030d9 = async (body)=>{\n    try {\n        const { email: email, otp: otp, purpose: purpose } = body;\n        const response = await fetch(`${$b687e91076c76d1a$var$baseUrl}verify-otp/${purpose}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: email,\n                otp: otp,\n                purpose: purpose\n            })\n        });\n        const dataSend = await response.json();\n        if (!response.ok) throw new Error(dataSend.message);\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('success', dataSend.message);\n        return true;\n    } catch (err) {\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('error', err.message);\n        return false;\n    }\n};\nconst $b687e91076c76d1a$export$dc726c8e334dd814 = async (body)=>{\n    try {\n        const { email: email, otp: otp, password: password, passwordConfirm: passwordConfirm } = body;\n        const response = await fetch(`${$b687e91076c76d1a$var$baseUrl}reset-password`, {\n            method: 'PATCH',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: email,\n                otp: otp,\n                password: password,\n                passwordConfirm: passwordConfirm\n            })\n        });\n        const dataSend = await response.json();\n        if (!response.ok) throw new Error(dataSend.message);\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('success', dataSend.message);\n        setTimeout(()=>location.assign('/'), 1500);\n    } catch (err) {\n        (0, $ee096d6f5d25ea16$export$2e2bcd8739ae039)('error', err.message);\n    }\n};\n\n\n/* eslint-disable */ \nconst $d99ef5bf8c819fff$export$bfd05f27ae9a60c8 = (inputs)=>{\n    const otp = Array.from(inputs).map((i)=>i.value).join('');\n    return otp;\n};\nconst $d99ef5bf8c819fff$export$71f81187a0d45720 = (inputs)=>{\n    inputs.forEach((input, index)=>{\n        input.addEventListener('paste', (e)=>{\n            e.preventDefault();\n            const pastedData = e.clipboardData.getData('text').trim();\n            if (/^\\d{6}$/.test(pastedData)) {\n                pastedData.split('').forEach((char, i)=>{\n                    if (inputs[i]) inputs[i].value = char;\n                });\n                inputs[5].focus();\n            }\n        });\n        input.addEventListener('input', (e)=>{\n            const value = e.target.value.replace(/\\D/g, '');\n            e.target.value = value;\n            if (e.target.value.length === 1 && index < inputs.length - 1) inputs[index + 1].focus();\n        });\n        input.addEventListener('keydown', (e)=>{\n            if (e.key === 'Backspace' && index > 0 && !e.target.value) inputs[index - 1].focus();\n        });\n    });\n};\nconst $d99ef5bf8c819fff$export$40efe2e6d17e1594 = async (email, purpose)=>{\n    return await (0, $b687e91076c76d1a$export$c25772193061cdc4)({\n        email: email,\n        purpose: 'Password Recovery'\n    });\n};\nconst $d99ef5bf8c819fff$export$69b95efb667597b5 = async (email, otp)=>{\n    return await (0, $b687e91076c76d1a$export$c3b3fc23617030d9)({\n        email: email,\n        otp: otp,\n        purpose: 'Password Recovery'\n    });\n};\nconst $d99ef5bf8c819fff$export$b1fe3b9ccb29d6b5 = async (email, otp)=>{\n    const password = document.getElementById('password').value;\n    const passwordConfirm = document.getElementById('password-confirm').value;\n    await (0, $b687e91076c76d1a$export$dc726c8e334dd814)({\n        email: email,\n        otp: otp,\n        password: password,\n        passwordConfirm: passwordConfirm\n    });\n};\nconst $d99ef5bf8c819fff$export$1ad018ea9ed1d4c7 = (resendBtn, countdownEl)=>{\n    let countdown = 60;\n    resendBtn.disabled = true;\n    countdownEl.textContent = `(${countdown})`;\n    const countdownInterval = setInterval(()=>{\n        countdown--;\n        countdownEl.textContent = `(${countdown})`;\n        if (countdown <= 0) {\n            clearInterval(countdownInterval);\n            resendBtn.disabled = false;\n            countdownEl.textContent = '';\n        }\n    }, 1000);\n};\n\n\nconst $db822e8f11f6ca30$var$registerForm = document.querySelector('.form--register');\nconst $db822e8f11f6ca30$var$loginForm = document.querySelector('.form--login');\nconst $db822e8f11f6ca30$var$logoutBtn = document.querySelector('.nav__el--logout');\nconst $db822e8f11f6ca30$var$copyBtn = document.getElementById('copyBtn');\nconst $db822e8f11f6ca30$var$forgotPasswordBtn = document.querySelector('.btn-sendOtp');\nif ($db822e8f11f6ca30$var$registerForm) $db822e8f11f6ca30$var$registerForm.addEventListener('submit', async (e)=>{\n    e.preventDefault();\n    const registerBtn = document.querySelector('.btn--register');\n    registerBtn.textContent = 'Please wait....';\n    const username = document.getElementById('username').value;\n    const name = document.getElementById('name').value;\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    const passwordConfirm = document.getElementById('password-confirm').value;\n    await (0, $b687e91076c76d1a$export$6503ec6e8aabbaf)({\n        username: username,\n        name: name,\n        email: email,\n        password: password,\n        passwordConfirm: passwordConfirm\n    });\n    registerBtn.textContent = 'Register';\n});\nif ($db822e8f11f6ca30$var$loginForm) $db822e8f11f6ca30$var$loginForm.addEventListener('submit', async (e)=>{\n    e.preventDefault();\n    const loginBtn = document.querySelector('.btn--login');\n    loginBtn.textContent = 'Please wait....';\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    await (0, $b687e91076c76d1a$export$596d806903d1f59e)({\n        email: email,\n        password: password\n    });\n    loginBtn.textContent = 'Login';\n});\nif ($db822e8f11f6ca30$var$logoutBtn) $db822e8f11f6ca30$var$logoutBtn.addEventListener('click', (0, $b687e91076c76d1a$export$a0973bcfe11b05c9));\nif ($db822e8f11f6ca30$var$copyBtn) $db822e8f11f6ca30$var$copyBtn.addEventListener('click', ()=>{\n    const input = document.getElementById('profileLink');\n    input.select();\n    input.setSelectionRange(0, 99999);\n    navigator.clipboard.writeText(input.value);\n    document.getElementById('copyBtn').textContent = 'Copied!';\n    setTimeout(()=>document.getElementById('copyBtn').textContent = 'Copy', 1500);\n});\n// ---------- Forgot Password Flow ----------\nif ($db822e8f11f6ca30$var$forgotPasswordBtn) $db822e8f11f6ca30$var$forgotPasswordBtn.addEventListener('click', async ()=>{\n    const emailInput = document.getElementById('email');\n    if (!emailInput.checkValidity()) {\n        emailInput.classList.add('is-invalid');\n        emailInput.reportValidity();\n        return;\n    } else emailInput.classList.remove('is-invalid');\n    const email = emailInput.value.trim();\n    $db822e8f11f6ca30$var$forgotPasswordBtn.textContent = 'Sending....';\n    const sendingStatus = await $d99ef5bf8c819fff$export$40efe2e6d17e1594(email, 'Password Recovery');\n    $db822e8f11f6ca30$var$forgotPasswordBtn.textContent = 'Send OTP';\n    if (sendingStatus) {\n        const otpModal = new bootstrap.Modal(document.getElementById('otpModal'));\n        otpModal.show();\n        let resendBtn = document.getElementById('resendOtpBtn');\n        resendBtn.replaceWith(resendBtn.cloneNode(true));\n        resendBtn = document.getElementById('resendOtpBtn');\n        const countdownEl = document.getElementById('countdown');\n        $d99ef5bf8c819fff$export$1ad018ea9ed1d4c7(resendBtn, countdownEl);\n        // Move between OTP inputs automatically & Paste OTP\n        const inputs = document.querySelectorAll('.otp-input');\n        $d99ef5bf8c819fff$export$71f81187a0d45720(inputs);\n        resendBtn.addEventListener('click', async ()=>{\n            resendBtn.disabled = true;\n            resendBtn.textContent = 'Resending....';\n            const email = emailInput.value.trim();\n            const sendingStatus = await $d99ef5bf8c819fff$export$40efe2e6d17e1594(email, 'Password Recovery');\n            if (sendingStatus) $d99ef5bf8c819fff$export$1ad018ea9ed1d4c7(resendBtn, countdownEl);\n            else {\n                resendBtn.textContent = 'Resend OTP';\n                resendBtn.disabled = false;\n            }\n        });\n        // Verify OTP\n        let verifyOtpBtn = document.getElementById('verifyOtpBtn');\n        // remove oldest listeners\n        verifyOtpBtn.replaceWith(verifyOtpBtn.cloneNode(true));\n        verifyOtpBtn = document.getElementById('verifyOtpBtn');\n        verifyOtpBtn.addEventListener('click', async ()=>{\n            let allFilled = true;\n            Array.from(inputs).forEach((input)=>{\n                if (input.value.trim() === '') {\n                    input.classList.add('is-invalid');\n                    allFilled = false;\n                } else input.classList.remove('is-invalid');\n            });\n            if (!allFilled) return;\n            verifyOtpBtn.textContent = 'Verifying....';\n            const otp = $d99ef5bf8c819fff$export$bfd05f27ae9a60c8(inputs);\n            const verifyingStatus = await $d99ef5bf8c819fff$export$69b95efb667597b5(email, otp);\n            verifyOtpBtn.textContent = 'Verify OTP';\n            if (verifyingStatus) {\n                otpModal.hide();\n                const resetModal = new bootstrap.Modal(document.getElementById('resetModal'));\n                resetModal.show();\n                //Reset Password\n                let resetPasswordForm = document.querySelector('.form--reset-password');\n                resetPasswordForm.replaceWith(resetPasswordForm.cloneNode(true));\n                resetPasswordForm = document.querySelector('.form--reset-password');\n                resetPasswordForm.addEventListener('submit', async (e)=>{\n                    e.preventDefault();\n                    await $d99ef5bf8c819fff$export$b1fe3b9ccb29d6b5(email, otp);\n                });\n            }\n        });\n    }\n});\n\n\n//# sourceMappingURL=index.js.map\n","/* eslint-disable */\r\n\r\nimport { login, register, logout } from './auth.js';\r\nimport * as otpUtils from './otpUtils.js';\r\n\r\nconst registerForm = document.querySelector('.form--register');\r\nconst loginForm = document.querySelector('.form--login');\r\nconst logoutBtn = document.querySelector('.nav__el--logout');\r\nconst copyBtn = document.getElementById('copyBtn');\r\nconst forgotPasswordBtn = document.querySelector('.btn-sendOtp');\r\n\r\nif (registerForm) {\r\n  registerForm.addEventListener('submit', async (e) => {\r\n    e.preventDefault();\r\n    const registerBtn = document.querySelector('.btn--register');\r\n    registerBtn.textContent = 'Please wait....';\r\n    const username = document.getElementById('username').value;\r\n    const name = document.getElementById('name').value;\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n    const passwordConfirm =\r\n      document.getElementById('password-confirm').value;\r\n    await register({ username, name, email, password, passwordConfirm });\r\n    registerBtn.textContent = 'Register';\r\n  });\r\n}\r\n\r\nif (loginForm) {\r\n  loginForm.addEventListener('submit', async (e) => {\r\n    e.preventDefault();\r\n    const loginBtn = document.querySelector('.btn--login');\r\n    loginBtn.textContent = 'Please wait....';\r\n    const email = document.getElementById('email').value;\r\n    const password = document.getElementById('password').value;\r\n    await login({ email, password });\r\n    loginBtn.textContent = 'Login';\r\n  });\r\n}\r\n\r\nif (logoutBtn) logoutBtn.addEventListener('click', logout);\r\n\r\nif (copyBtn) {\r\n  copyBtn.addEventListener('click', () => {\r\n    const input = document.getElementById('profileLink');\r\n    input.select();\r\n    input.setSelectionRange(0, 99999);\r\n    navigator.clipboard.writeText(input.value);\r\n    document.getElementById('copyBtn').textContent = 'Copied!';\r\n    setTimeout(\r\n      () => (document.getElementById('copyBtn').textContent = 'Copy'),\r\n      1500,\r\n    );\r\n  });\r\n}\r\n\r\n// ---------- Forgot Password Flow ----------\r\nif (forgotPasswordBtn) {\r\n  forgotPasswordBtn.addEventListener('click', async () => {\r\n    const emailInput = document.getElementById('email');\r\n    if (!emailInput.checkValidity()) {\r\n      emailInput.classList.add('is-invalid');\r\n      emailInput.reportValidity();\r\n      return;\r\n    }\r\n    else{\r\n      emailInput.classList.remove('is-invalid');\r\n    }\r\n    const email = emailInput.value.trim();\r\n    forgotPasswordBtn.textContent = 'Sending....';\r\n    const sendingStatus = await otpUtils.handleOtpSending(\r\n      email,\r\n      'Password Recovery',\r\n    );\r\n    forgotPasswordBtn.textContent = 'Send OTP';\r\n    if (sendingStatus) {\r\n      const otpModal = new bootstrap.Modal(\r\n        document.getElementById('otpModal'),\r\n      );\r\n      otpModal.show();\r\n\r\n      let resendBtn = document.getElementById('resendOtpBtn');\r\n      resendBtn.replaceWith(resendBtn.cloneNode(true));\r\n      resendBtn = document.getElementById('resendOtpBtn');\r\n      const countdownEl = document.getElementById('countdown');\r\n      otpUtils.startCountdown(resendBtn, countdownEl);\r\n\r\n      // Move between OTP inputs automatically & Paste OTP\r\n      const inputs = document.querySelectorAll('.otp-input');\r\n      otpUtils.handleEnterOtp(inputs);\r\n\r\n      resendBtn.addEventListener('click', async () => {\r\n        resendBtn.disabled = true;\r\n        resendBtn.textContent = 'Resending....';\r\n        const email = emailInput.value.trim();\r\n        const sendingStatus = await otpUtils.handleOtpSending(\r\n          email,\r\n          'Password Recovery',\r\n        );\r\n        if (sendingStatus) {\r\n          otpUtils.startCountdown(resendBtn, countdownEl);\r\n        } else {\r\n          resendBtn.textContent = 'Resend OTP';\r\n          resendBtn.disabled = false;\r\n        }\r\n      });\r\n\r\n      // Verify OTP\r\n      let verifyOtpBtn = document.getElementById('verifyOtpBtn');\r\n      // remove oldest listeners\r\n      verifyOtpBtn.replaceWith(verifyOtpBtn.cloneNode(true));\r\n      verifyOtpBtn = document.getElementById('verifyOtpBtn');\r\n\r\n      verifyOtpBtn.addEventListener('click', async () => {\r\n        let allFilled = true;\r\n        Array.from(inputs).forEach((input) => {\r\n          if (input.value.trim() === '') {\r\n            input.classList.add('is-invalid');\r\n            allFilled = false;\r\n          } else input.classList.remove('is-invalid');\r\n        });\r\n        if (!allFilled) {\r\n          return;\r\n        }\r\n        verifyOtpBtn.textContent = 'Verifying....';\r\n        const otp = otpUtils.getOtpValue(inputs);\r\n        const verifyingStatus = await otpUtils.handleOtpVerification(\r\n          email,\r\n          otp,\r\n        );\r\n        verifyOtpBtn.textContent = 'Verify OTP';\r\n        if (verifyingStatus) {\r\n          otpModal.hide();\r\n\r\n          const resetModal = new bootstrap.Modal(\r\n            document.getElementById('resetModal'),\r\n          );\r\n          resetModal.show();\r\n\r\n          //Reset Password\r\n          let resetPasswordForm = document.querySelector(\r\n            '.form--reset-password',\r\n          );\r\n          resetPasswordForm.replaceWith(resetPasswordForm.cloneNode(true));\r\n          resetPasswordForm = document.querySelector(\r\n            '.form--reset-password',\r\n          );\r\n          resetPasswordForm.addEventListener('submit', async (e) => {\r\n            e.preventDefault();\r\n            await otpUtils.handlePasswordReset(email, otp);\r\n          });\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n","/*eslint-disable*/\r\nimport showAlert from './alerts.js';\r\n\r\nconst baseUrl = '/api/v1/auth/';\r\n\r\nconst register = async (body) => {\r\n  try {\r\n    const { username, name, email, password, passwordConfirm } = body;\r\n    const response = await fetch(`${baseUrl}register`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        username,\r\n        name,\r\n        email,\r\n        password,\r\n        passwordConfirm,\r\n      }),\r\n    });\r\n\r\n    const dataSend = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(dataSend.message || 'Something went wrong');\r\n    }\r\n\r\n    showAlert('success', dataSend.message);\r\n    setTimeout(() => {\r\n      location.assign('/messages');\r\n    }, 2000);\r\n  } catch (err) {\r\n    showAlert('error', err.message);\r\n  }\r\n};\r\n\r\nconst login = async (body) => {\r\n  try {\r\n    const { email, password } = body;\r\n    const response = await fetch(`${baseUrl}login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const dataSend = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(dataSend.message || 'Something went wrong');\r\n    }\r\n\r\n    showAlert('success', dataSend.message);\r\n    setTimeout(() => {\r\n      location.assign('/messages');\r\n    }, 1500);\r\n  } catch (err) {\r\n    showAlert('error', err.message);\r\n  }\r\n};\r\n\r\nconst logout = async () => {\r\n  try {\r\n    const response = await fetch(`${baseUrl}logout`);\r\n    if (!response.ok) {\r\n      const errData = await response.json();\r\n      throw new Error(errData.message || 'Something went wrong');\r\n    }\r\n    location.assign('/login');\r\n  } catch (err) {\r\n    showAlert('error', err.message);\r\n  }\r\n};\r\n\r\nconst sendOtp = async (body) => {\r\n  try {\r\n    const { email, purpose } = body;\r\n    const response = await fetch(`${baseUrl}send-otp/${purpose}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email }),\r\n    });\r\n    const dataSend = await response.json();\r\n    if (!response.ok && purpose === 'Password Recovery') {\r\n      throw new Error(dataSend.message);\r\n    }\r\n    showAlert('success', dataSend.message);\r\n    return true;\r\n  } catch (err) {\r\n    showAlert('error', err.message);\r\n    return false;\r\n  }\r\n};\r\n\r\nconst verifyOtp = async (body) => {\r\n  try {\r\n    const { email, otp, purpose } = body;\r\n    const response = await fetch(`${baseUrl}verify-otp/${purpose}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, otp, purpose }),\r\n    });\r\n    const dataSend = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(dataSend.message);\r\n    }\r\n    showAlert('success', dataSend.message);\r\n    return true;\r\n  } catch (err) {\r\n    showAlert('error', err.message);\r\n    return false;\r\n  }\r\n};\r\n\r\nconst resetPassword = async (body) => {\r\n  try {\r\n    const { email, otp, password, passwordConfirm } = body;\r\n    const response = await fetch(`${baseUrl}reset-password`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, otp, password, passwordConfirm }),\r\n    });\r\n    const dataSend = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(dataSend.message);\r\n    }\r\n    showAlert('success', dataSend.message);\r\n    setTimeout(() => location.assign('/'), 1500);\r\n  } catch (err) {\r\n    showAlert('error', err.message);\r\n  }\r\n};\r\n\r\nexport { register, login, sendOtp, verifyOtp, resetPassword, logout };\r\n","/* eslint-disable */\r\n\r\nconst hideAlert = () => {\r\n  const el = document.querySelector('.alert');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\n// Type is 'success' or 'error'\r\nconst showAlert = (type, msg) => {\r\n  hideAlert();\r\n\r\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n  setTimeout(hideAlert, 5000);\r\n};\r\n\r\nexport default showAlert;\r\n","/* eslint-disable */\r\nimport { sendOtp, verifyOtp, resetPassword } from './auth.js';\r\n\r\nconst getOtpValue = (inputs) => {\r\n  const otp = Array.from(inputs)\r\n    .map((i) => i.value)\r\n    .join('');\r\n  return otp;\r\n};\r\n\r\nconst handleEnterOtp = (inputs) => {\r\n  inputs.forEach((input, index) => {\r\n    input.addEventListener('paste', (e) => {\r\n      e.preventDefault();\r\n      const pastedData = e.clipboardData.getData('text').trim();\r\n\r\n      if (/^\\d{6}$/.test(pastedData)) {\r\n        pastedData.split('').forEach((char, i) => {\r\n          if (inputs[i]) inputs[i].value = char;\r\n        });\r\n        inputs[5].focus();\r\n      }\r\n    });\r\n\r\n    input.addEventListener('input', (e) => {\r\n      const value = e.target.value.replace(/\\D/g, '');\r\n      e.target.value = value;\r\n      if (e.target.value.length === 1 && index < inputs.length - 1) {\r\n        inputs[index + 1].focus();\r\n      }\r\n    });\r\n\r\n    input.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Backspace' && index > 0 && !e.target.value) {\r\n        inputs[index - 1].focus();\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nconst handleOtpSending = async (email, purpose) => {\r\n  return await sendOtp({\r\n    email,\r\n    purpose: 'Password Recovery',\r\n  });\r\n};\r\n\r\nconst handleOtpVerification = async (email, otp) => {\r\n  return await verifyOtp({ email, otp, purpose: 'Password Recovery' });\r\n};\r\n\r\nconst handlePasswordReset = async (email, otp) => {\r\n  const password = document.getElementById('password').value;\r\n  const passwordConfirm =\r\n    document.getElementById('password-confirm').value;\r\n  await resetPassword({\r\n    email,\r\n    otp,\r\n    password,\r\n    passwordConfirm,\r\n  });\r\n};\r\n\r\nconst startCountdown = (resendBtn, countdownEl) => {\r\n  let countdown = 60;\r\n  resendBtn.disabled = true;\r\n  countdownEl.textContent = `(${countdown})`;\r\n\r\n  const countdownInterval = setInterval(() => {\r\n    countdown--;\r\n    countdownEl.textContent = `(${countdown})`;\r\n\r\n    if (countdown <= 0) {\r\n      clearInterval(countdownInterval);\r\n      resendBtn.disabled = false;\r\n      countdownEl.textContent = '';\r\n    }\r\n  }, 1000);\r\n};\r\n\r\nexport {\r\n  handleEnterOtp,\r\n  getOtpValue,\r\n  handleOtpSending,\r\n  handleOtpVerification,\r\n  handlePasswordReset,\r\n  startCountdown,\r\n};\r\n"],"names":["$ee096d6f5d25ea16$var$hideAlert","el","document","querySelector","parentElement","removeChild","$ee096d6f5d25ea16$var$showAlert","type","msg","markup","insertAdjacentHTML","setTimeout","$ee096d6f5d25ea16$export$2e2bcd8739ae039","$b687e91076c76d1a$var$baseUrl","$b687e91076c76d1a$export$6503ec6e8aabbaf","body","username","name","email","password","passwordConfirm","response","fetch","method","headers","JSON","stringify","dataSend","json","ok","Error","message","location","assign","err","$b687e91076c76d1a$export$596d806903d1f59e","$b687e91076c76d1a$export$a0973bcfe11b05c9","errData","$b687e91076c76d1a$export$c25772193061cdc4","purpose","$b687e91076c76d1a$export$c3b3fc23617030d9","otp","$b687e91076c76d1a$export$dc726c8e334dd814","$d99ef5bf8c819fff$export$bfd05f27ae9a60c8","inputs","Array","from","map","i","value","join","$d99ef5bf8c819fff$export$71f81187a0d45720","forEach","input","index","addEventListener","e","preventDefault","pastedData","clipboardData","getData","trim","test","split","char","focus","target","replace","length","key","$d99ef5bf8c819fff$export$40efe2e6d17e1594","$d99ef5bf8c819fff$export$69b95efb667597b5","$d99ef5bf8c819fff$export$b1fe3b9ccb29d6b5","getElementById","$d99ef5bf8c819fff$export$1ad018ea9ed1d4c7","resendBtn","countdownEl","countdown","disabled","textContent","countdownInterval","setInterval","clearInterval","$db822e8f11f6ca30$var$registerForm","$db822e8f11f6ca30$var$loginForm","$db822e8f11f6ca30$var$logoutBtn","$db822e8f11f6ca30$var$copyBtn","$db822e8f11f6ca30$var$forgotPasswordBtn","registerBtn","loginBtn","select","setSelectionRange","navigator","clipboard","writeText","emailInput","checkValidity","classList","remove","add","reportValidity","sendingStatus","otpModal","bootstrap","Modal","show","replaceWith","cloneNode","querySelectorAll","verifyOtpBtn","allFilled","verifyingStatus","hide","resetModal","resetPasswordForm"],"version":3,"file":"index.js.map","sourceRoot":"../../../"}